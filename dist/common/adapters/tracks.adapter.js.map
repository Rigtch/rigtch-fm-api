{"version":3,"sources":["../../../src/common/adapters/tracks.adapter.ts"],"sourcesContent":["import {\n  FormattedTrack,\n  SpotifyResponseWithCursors,\n  SpotifyResponseWithOffset,\n  SpotifyTrack,\n} from '../types/spotify'\n\nimport { adaptPaginated } from './paginated.adapter'\n\nexport const adaptTrack = ({\n  id,\n  name,\n  album,\n  artists,\n  external_urls: { spotify: href },\n  duration_ms,\n  progress_ms,\n  played_at,\n}: SpotifyTrack): FormattedTrack => ({\n  id,\n  name,\n  album: { name: album.name, images: album.images },\n  artists: artists.map(({ name, id, href }) => ({ name, id, href })),\n  href,\n  duration: duration_ms,\n  ...(progress_ms && { progress: progress_ms }),\n  ...(played_at && { playedAt: played_at }),\n})\n\nexport const adaptTracks = (tracks: SpotifyTrack[]): FormattedTrack[] =>\n  tracks.map(track => adaptTrack(track))\n\nexport const adaptPaginatedTracks = (\n  data: SpotifyResponseWithOffset<SpotifyTrack>\n) => adaptPaginated(data, adaptTracks)\n\nexport const adaptLastTracks = ({\n  limit,\n  next,\n  href,\n  cursors,\n  items,\n}: SpotifyResponseWithCursors<SpotifyTrack>): SpotifyResponseWithCursors<FormattedTrack> => ({\n  limit,\n  next,\n  href,\n  cursors,\n  items: adaptTracks(items),\n})\n"],"names":["adaptTrack","adaptTracks","adaptPaginatedTracks","adaptLastTracks","id","name","album","artists","external_urls","spotify","href","duration_ms","progress_ms","played_at","images","map","duration","progress","playedAt","tracks","track","data","adaptPaginated","limit","next","cursors","items"],"mappings":";;;;;;;;;;;IASaA,UAAU;eAAVA;;IAoBAC,WAAW;eAAXA;;IAGAC,oBAAoB;eAApBA;;IAIAC,eAAe;eAAfA;;;kCA7BkB;AAExB,MAAMH,aAAa,CAAC,EACzBI,EAAE,EACFC,IAAI,EACJC,KAAK,EACLC,OAAO,EACPC,eAAe,EAAEC,SAASC,IAAI,EAAE,EAChCC,WAAW,EACXC,WAAW,EACXC,SAAS,EACI,GAAsB,CAAA;QACnCT;QACAC;QACAC,OAAO;YAAED,MAAMC,MAAMD,IAAI;YAAES,QAAQR,MAAMQ,MAAM;QAAC;QAChDP,SAASA,QAAQQ,GAAG,CAAC,CAAC,EAAEV,IAAI,EAAED,EAAE,EAAEM,IAAI,EAAE,GAAM,CAAA;gBAAEL;gBAAMD;gBAAIM;YAAK,CAAA;QAC/DA;QACAM,UAAUL;QACV,GAAIC,eAAe;YAAEK,UAAUL;QAAY,CAAC;QAC5C,GAAIC,aAAa;YAAEK,UAAUL;QAAU,CAAC;IAC1C,CAAA;AAEO,MAAMZ,cAAc,CAACkB,SAC1BA,OAAOJ,GAAG,CAACK,CAAAA,QAASpB,WAAWoB;AAE1B,MAAMlB,uBAAuB,CAClCmB,OACGC,IAAAA,gCAAc,EAACD,MAAMpB;AAEnB,MAAME,kBAAkB,CAAC,EAC9BoB,KAAK,EACLC,IAAI,EACJd,IAAI,EACJe,OAAO,EACPC,KAAK,EACoC,GAAkD,CAAA;QAC3FH;QACAC;QACAd;QACAe;QACAC,OAAOzB,YAAYyB;IACrB,CAAA"}