{"version":3,"sources":["../../../src/common/adapters/tracks.adapter.ts"],"sourcesContent":["import { FormattedTrack, SpotifyResponse, SpotifyTrack } from '../types/spotify'\n\nimport { adaptPaginated } from './paginated.adapter'\n\nexport const adaptTrack = ({\n  id,\n  name,\n  album,\n  artists,\n  external_urls: { spotify: href },\n  duration_ms,\n  progress_ms,\n  played_at,\n}: SpotifyTrack): FormattedTrack => ({\n  id,\n  name,\n  album: { name: album.name, images: album.images },\n  artists: artists.map(({ name, id, href }) => ({ name, id, href })),\n  href,\n  duration: duration_ms,\n  ...(progress_ms && { progress: progress_ms }),\n  ...(played_at && { playedAt: played_at }),\n})\n\nexport const adaptTracks = (tracks: SpotifyTrack[]): FormattedTrack[] =>\n  tracks.map(track => adaptTrack(track))\n\nexport const adaptPaginatedTracks = (\n  data: SpotifyResponse<SpotifyTrack, true>\n) => adaptPaginated(data, adaptTracks)\n"],"names":["adaptTrack","adaptTracks","adaptPaginatedTracks","id","name","album","artists","external_urls","spotify","href","duration_ms","progress_ms","played_at","images","map","duration","progress","playedAt","tracks","track","data","adaptPaginated"],"mappings":";;;;;;;;;;;IAIaA,UAAU;eAAVA;;IAoBAC,WAAW;eAAXA;;IAGAC,oBAAoB;eAApBA;;;kCAzBkB;AAExB,MAAMF,aAAa,CAAC,EACzBG,EAAE,EACFC,IAAI,EACJC,KAAK,EACLC,OAAO,EACPC,eAAe,EAAEC,SAASC,IAAI,EAAE,EAChCC,WAAW,EACXC,WAAW,EACXC,SAAS,EACI,GAAsB,CAAA;QACnCT;QACAC;QACAC,OAAO;YAAED,MAAMC,MAAMD,IAAI;YAAES,QAAQR,MAAMQ,MAAM;QAAC;QAChDP,SAASA,QAAQQ,GAAG,CAAC,CAAC,EAAEV,IAAI,EAAED,EAAE,EAAEM,IAAI,EAAE,GAAM,CAAA;gBAAEL;gBAAMD;gBAAIM;YAAK,CAAA;QAC/DA;QACAM,UAAUL;QACV,GAAIC,eAAe;YAAEK,UAAUL;QAAY,CAAC;QAC5C,GAAIC,aAAa;YAAEK,UAAUL;QAAU,CAAC;IAC1C,CAAA;AAEO,MAAMX,cAAc,CAACiB,SAC1BA,OAAOJ,GAAG,CAACK,CAAAA,QAASnB,WAAWmB;AAE1B,MAAMjB,uBAAuB,CAClCkB,OACGC,IAAAA,gCAAc,EAACD,MAAMnB"}