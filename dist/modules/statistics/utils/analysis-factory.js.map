{"version":3,"sources":["../../../../src/modules/statistics/utils/analysis-factory.ts"],"sourcesContent":["import { audioFeaturesReducer } from './audio-features-reducer'\n\nimport { FormattedAudioFeatures } from '@common/types/spotify'\nimport { Analysis } from '@common/dtos'\n\nexport const analysisFactory = (\n  audioFeatures: FormattedAudioFeatures[]\n): Analysis => ({\n  danceability:\n    audioFeatures\n      .map(({ danceability }) => danceability)\n      .reduce(audioFeaturesReducer) / audioFeatures.length,\n  acousticness:\n    audioFeatures\n      .map(({ acousticness }) => acousticness)\n      .reduce(audioFeaturesReducer) / audioFeatures.length,\n  instrumentalness:\n    audioFeatures\n      .map(({ instrumentalness }) => instrumentalness)\n      .reduce(audioFeaturesReducer, 0) / audioFeatures.length,\n  speechiness:\n    audioFeatures\n      .map(({ speechiness }) => speechiness)\n      .reduce(audioFeaturesReducer) / audioFeatures.length,\n  liveness:\n    audioFeatures.map(({ liveness }) => liveness).reduce(audioFeaturesReducer) /\n    audioFeatures.length,\n  loudness:\n    audioFeatures.map(({ loudness }) => loudness).reduce(audioFeaturesReducer) /\n    audioFeatures.length,\n  energy:\n    audioFeatures.map(({ energy }) => energy).reduce(audioFeaturesReducer) /\n    audioFeatures.length,\n  tempo:\n    audioFeatures.map(({ tempo }) => tempo).reduce(audioFeaturesReducer) /\n    audioFeatures.length,\n  mode:\n    audioFeatures.map(({ mode }) => mode).reduce(audioFeaturesReducer) /\n    audioFeatures.length,\n  key:\n    audioFeatures.map(({ key }) => key).reduce(audioFeaturesReducer) /\n    audioFeatures.length,\n  valence:\n    audioFeatures.map(({ valence }) => valence).reduce(audioFeaturesReducer) /\n    audioFeatures.length,\n})\n"],"names":["analysisFactory","audioFeatures","danceability","map","reduce","audioFeaturesReducer","length","acousticness","instrumentalness","speechiness","liveness","loudness","energy","tempo","mode","key","valence"],"mappings":";;;;+BAKaA;;;eAAAA;;;sCALwB;AAK9B,MAAMA,kBAAkB,CAC7BC,gBACc,CAAA;QACdC,cACED,cACGE,GAAG,CAAC,CAAC,EAAED,YAAY,EAAE,GAAKA,cAC1BE,MAAM,CAACC,0CAAoB,IAAIJ,cAAcK,MAAM;QACxDC,cACEN,cACGE,GAAG,CAAC,CAAC,EAAEI,YAAY,EAAE,GAAKA,cAC1BH,MAAM,CAACC,0CAAoB,IAAIJ,cAAcK,MAAM;QACxDE,kBACEP,cACGE,GAAG,CAAC,CAAC,EAAEK,gBAAgB,EAAE,GAAKA,kBAC9BJ,MAAM,CAACC,0CAAoB,EAAE,KAAKJ,cAAcK,MAAM;QAC3DG,aACER,cACGE,GAAG,CAAC,CAAC,EAAEM,WAAW,EAAE,GAAKA,aACzBL,MAAM,CAACC,0CAAoB,IAAIJ,cAAcK,MAAM;QACxDI,UACET,cAAcE,GAAG,CAAC,CAAC,EAAEO,QAAQ,EAAE,GAAKA,UAAUN,MAAM,CAACC,0CAAoB,IACzEJ,cAAcK,MAAM;QACtBK,UACEV,cAAcE,GAAG,CAAC,CAAC,EAAEQ,QAAQ,EAAE,GAAKA,UAAUP,MAAM,CAACC,0CAAoB,IACzEJ,cAAcK,MAAM;QACtBM,QACEX,cAAcE,GAAG,CAAC,CAAC,EAAES,MAAM,EAAE,GAAKA,QAAQR,MAAM,CAACC,0CAAoB,IACrEJ,cAAcK,MAAM;QACtBO,OACEZ,cAAcE,GAAG,CAAC,CAAC,EAAEU,KAAK,EAAE,GAAKA,OAAOT,MAAM,CAACC,0CAAoB,IACnEJ,cAAcK,MAAM;QACtBQ,MACEb,cAAcE,GAAG,CAAC,CAAC,EAAEW,IAAI,EAAE,GAAKA,MAAMV,MAAM,CAACC,0CAAoB,IACjEJ,cAAcK,MAAM;QACtBS,KACEd,cAAcE,GAAG,CAAC,CAAC,EAAEY,GAAG,EAAE,GAAKA,KAAKX,MAAM,CAACC,0CAAoB,IAC/DJ,cAAcK,MAAM;QACtBU,SACEf,cAAcE,GAAG,CAAC,CAAC,EAAEa,OAAO,EAAE,GAAKA,SAASZ,MAAM,CAACC,0CAAoB,IACvEJ,cAAcK,MAAM;IACxB,CAAA"}