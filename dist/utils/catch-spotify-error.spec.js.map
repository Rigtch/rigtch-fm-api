{"version":3,"sources":["../../src/utils/catch-spotify-error.spec.ts"],"sourcesContent":["import { test, describe, expect } from 'vitest'\nimport {\n  InternalServerErrorException,\n  UnauthorizedException,\n} from '@nestjs/common'\n\nimport { catchSpotifyError } from './catch-spotify-error'\n\ndescribe('catchSpotifyError', () => {\n  test('should throw UnauthorizedException', () => {\n    expect(() =>\n      catchSpotifyError({\n        response: {\n          data: {\n            error: {\n              message: 'Unauthorized',\n            },\n          },\n          status: 401,\n        },\n      })\n    ).toThrowError(UnauthorizedException)\n  })\n\n  test('should throw UnauthorizedException as invalid grant', () => {\n    expect(() =>\n      catchSpotifyError({\n        response: {\n          data: {\n            error: 'invalid_grant',\n          },\n          status: 401,\n        },\n      })\n    ).toThrowError(UnauthorizedException)\n  })\n\n  test('should throw InternalServerErrorException', () => {\n    expect(() =>\n      catchSpotifyError({\n        response: {\n          data: {\n            error: {\n              message: 'Internal Server Error',\n            },\n          },\n          status: 500,\n        },\n      })\n    ).toThrowError(InternalServerErrorException)\n  })\n})\n"],"names":["describe","test","expect","catchSpotifyError","response","data","error","message","status","toThrowError","UnauthorizedException","InternalServerErrorException"],"mappings":";;;;wBAAuC;wBAIhC;mCAE2B;AAElCA,IAAAA,gBAAQ,EAAC,qBAAqB;IAC5BC,IAAAA,YAAI,EAAC,sCAAsC;QACzCC,IAAAA,cAAM,EAAC,IACLC,IAAAA,oCAAiB,EAAC;gBAChBC,UAAU;oBACRC,MAAM;wBACJC,OAAO;4BACLC,SAAS;wBACX;oBACF;oBACAC,QAAQ;gBACV;YACF,IACAC,YAAY,CAACC,6BAAqB;IACtC;IAEAT,IAAAA,YAAI,EAAC,uDAAuD;QAC1DC,IAAAA,cAAM,EAAC,IACLC,IAAAA,oCAAiB,EAAC;gBAChBC,UAAU;oBACRC,MAAM;wBACJC,OAAO;oBACT;oBACAE,QAAQ;gBACV;YACF,IACAC,YAAY,CAACC,6BAAqB;IACtC;IAEAT,IAAAA,YAAI,EAAC,6CAA6C;QAChDC,IAAAA,cAAM,EAAC,IACLC,IAAAA,oCAAiB,EAAC;gBAChBC,UAAU;oBACRC,MAAM;wBACJC,OAAO;4BACLC,SAAS;wBACX;oBACF;oBACAC,QAAQ;gBACV;YACF,IACAC,YAAY,CAACE,oCAA4B;IAC7C;AACF"}